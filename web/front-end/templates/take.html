{% extends "general.html" %}

{% block styles %}
{% endblock styles %}

{% block content %}
  <iframe src='https://docs.google.com/document/d/{{doc}}/edit' class='iframe' scrolling='no' allowTransparency='true'>
    
  </iframe>{% csrf_token %}

<!-- $(window).load(getMap()); -->
<body onload = "getMap();">

{% endblock content %}

{% block scripts %}
<script type="text/javascript" src="http://ecn.dev.virtualearth.net/mapcontrol/mapcontrol.ashx?v=7.0"></script>
<script type="text/javascript">
//var map = null;
function getMap()
{
  // Set the map options
  var mapOptions = {credentials:"Aubgo-5lrrTvLm2gEofNcTIQY4GJoK5weU9J86TQTZKPmCqA83aWPBilPXQF4zI3"};

  // Initialize the map
  var map = new Microsoft.Maps.Map(document.getElementById("mapDiv"), mapOptions);

  // Initialize the location provider
  var geoLocationProvider = new Microsoft.Maps.GeoLocationProvider(map);

  // Get the user's current location
  geoLocationProvider.getCurrentPosition();
  console.log(geoLocationProvider);

  // map = new Microsoft.Maps.Maps.GeoLocationProvider(map);
  // geoLocationProvider.getCurrentPosition({ successCallback: successCallback });
}
function successCallback(object)
{
  alert('Success callback invoked, current map center' + object.center);
}

//$(window).load(getMap());
</script>
{% endblock scripts %}
